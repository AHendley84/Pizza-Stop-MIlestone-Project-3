{% extends "base.html" %}
{% block content %}
    <div class="row">
        <div class="col s12 m10 offset-m1">
            <div class="card-panel card-radius">
                <div class="row">
                        <!-- Recipe Name display -->
                        <div class="row">
                            <div class="col s12">
                                <h3>{{ recipe_id.recipe_name }}</h3>
                            </div>
                        </div>
                        <!-- recipe by display -->
                        <div class="row">
                            <div class="col s12">
                                <p><strong>Recipe By:</strong> {{ recipe_id.recipe_submitted_by }}</p>
                                <p><strong>Category:</strong> {{ recipe_id.recipe_category }}</p>
                                <p><strong>Serves:</strong> {{ recipe_id.recipe_serves }}</p>
                                <p><strong>Preparation Time:</strong> {{ recipe_id.recipe_prep_time }}</p>
                                <p><strong>Cook Time:</strong> {{ recipe_id.recipe_cook_time }}</p>
                            </div>
                        </div>
                        <!-- description display -->
                        <div class="row">
                            <div class="col s12">
                                <h5>Description:</h5>
                                <p>{{ recipe_id.recipe_description }}</p>
                            </div>
                        </div>
                        <!-- ingredient display -->
                        <div class="row">
                            <div class="col s12">
                                <h5>Ingredients:</h5>
                                <ol>
                                {% for ingredient in recipe_id.recipe_ingredients %}
                                    <li>{{ ingredient[0:] }}</li>
                                {% endfor %}
                                </ol>
                            </div>
                        </div>
                        <!-- method display -->
                        <div class="row">
                            <div class="col s12">
                                <h5>Method:</h5>
                                <ol>
                                {% for method in recipe_id.recipe_method %}
                                    <li>{{ method[0:] }}</li>
                                {% endfor %}
                                </ol>
                            </div>
                        </div>
                        <!-- Edit button -->
                        <div class="row">
                            <div class="col-12 center-align">
                                {% if session.user|lower == recipe_id.recipe_submitted_by|lower %}
                                    <a class="waves-effect waves-green darken-4 btn btn-radius" href="{{ url_for('edit_recipe', recipe_repository_id=recipe_id._id) }}">
                                        <i class="fa-regular fa-edit"></i> Edit</i>
                                    </a>
                                    <button data-target="{{ recipe_id._id }}" class="btn waves-effect waves-red accent-4 btn btn-radius modal-trigger">
                                        <i class="fa-solid fa-trash"></i> Delete</i>
                                    </button>
                                    <!-- Modal Structure -->
                                    <div id="{{ recipe_id._id }}" class="modal">
                                        <div class="modal-content">
                                            <p>Are you sure you want to delete this Recipe? Once completed it cannot be undone.</p>
                                        </div>
                                            <div class="modal-footer">
                                                <a href="{{ url_for('delete_recipe', recipe_repository_id=recipe_id._id) }}" 
                                                    class="modal-close btn-small red accent-4 white-text text-shadow btn-radius">
                                                    Delete
                                                </a>
                                                <a href="{{ url_for('view_recipe', recipe_repository_id=recipe_id._id) }}" 
                                                    class="modal-close btn-small blue-grey-text text-lighten-5 blue-grey darken-3 text-shadow btn-radius">
                                                    Cancel
                                                </a>
                                        </div>
                                    </div>
                                {% endif %}
                            <a class="waves-effect waves-light-blue darken-4 btn btn-radius" href="{{ url_for('get_recipes') }}">
                                <i class="fa-solid fa-person-walking-arrow-loop-left"></i> All Recipes</i>
                            </a>
                            <a class="waves-effect waves-light-blue darken-4 btn btn-radius" href="{{ url_for('my_recipes') }}">
                                <i class="fa-solid fa-person-walking-arrow-loop-left"></i> My Recipes</i>
                            </a>
                            <a class="waves-effect waves-light-blue darken-4 btn btn-radius" href="{{ url_for('profile', username=session['user']) }}">
                                <i class="fa-solid fa-person-walking-arrow-loop-left"></i> My Favorites</i>
                            </a>
                            </div>
                        </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}